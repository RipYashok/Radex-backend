# Radex AI - Система анализа рентгенограмм

Система для автоматического анализа рентгеновских снимков с использованием искусственного интеллекта. Проект состоит из FastAPI бэкенда и React фронтенда.

## Структура проекта

```
.
├── server/                 # Бэкенд на FastAPI
│   ├── images/            # Директория для хранения загруженных изображений
│   ├── reports/           # Директория для хранения сгенерированных PDF-отчетов
│   ├── main.py            # Основной файл FastAPI приложения
│   ├── database.py        # Конфигурация базы данных
│   ├── model.py           # Модели данных
│   ├── schemas.py         # Pydantic схемы
│   └── pdf_generator.py   # Генератор PDF-отчетов
├── model/                 # Модель машинного обучения
│   └── utils/            # Утилиты для работы с моделью
├── Dockerfile            # Конфигурация Docker для основного приложения
├── Dockerfile.serveo     # Конфигурация Docker для Serveo
├── docker-compose.yml    # Конфигурация Docker Compose
├── requirements.txt      # Зависимости Python
└── start-serveo.sh       # Скрипт для запуска Serveo
```

## Технологии

### Бэкенд
- FastAPI 0.68.1
- SQLAlchemy 1.4.23
- PostgreSQL
- PyTorch 2.2.1
- Detectron2
- ReportLab 4.0.4

## Требования

- Docker и Docker Compose
- NVIDIA GPU с поддержкой CUDA
- PostgreSQL

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd <repository-name>
```

2. Создайте файл `.env` в корневой директории:
```env
DATABASE_URL=postgresql://postgres:5504@host.docker.internal:5432/users
```

3. Запустите проект с помощью Docker Compose:
```bash
docker-compose up --build
```

Приложение будет доступно по адресу: http://localhost:8000 (без frontend'а)

При запуске без SSH кода для формирования статической ссылки, она будет динамической (отобразится в терминале) 
Гайд для получения SSH ключа: [serveo.net](https://serveo.net/)
Получив ключ его нужно поместить в основную директорию

## API Endpoints

### Пользователи
- `GET /users/` - Получить список всех пользователей
- `POST /users/` - Создать нового пользователя
- `DELETE /users/{user_id}` - Удалить пользователя

### Изображения
- `POST /upload` - Загрузить новое изображение
- `POST /replace-image` - Заменить существующее изображение
- `GET /defects` - Получить примеры дефектов

## Особенности

1. **Обработка изображений**
   - Поддержка PNG формата
   - Максимальный размер файла: 100MB
   - Автоматическое определение дефектов с помощью AI

2. **Генерация отчетов**
   - Автоматическое создание PDF-отчетов
   - Детальное описание найденных дефектов
   - Сохранение истории анализов

3. **Безопасность**
   - CORS настройки для безопасного доступа
   - Валидация загружаемых файлов
   - Защита от переполнения

4. **Масштабируемость**
   - Docker контейнеризация
   - Поддержка GPU для ускорения обработки
   - Модульная архитектура

## Frontend

Расположен в другом репозитории: [frontend](https://github.com/PashaSeleznev/TECH-SQUAD-DEV)